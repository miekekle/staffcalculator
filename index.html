<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Porto Dome Staffing Calculator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="root"></div>
  <script>
    const { useState } = React;

    function StaffingCalculator() {
      const [employees, setEmployees] = useState(28000);
      const [parentPct, setParentPct] = useState(15);
      const [uptakePct, setUptakePct] = useState(30);
      const [elderUptakePct, setElderUptakePct] = useState(10);
      const [elderDepPct, setElderDepPct] = useState(20);
      
      const babyPct = 0.25, toddlerPct = 0.35, over3Pct = 0.40;
      const babyRatio = 3, toddlerRatio = 5, over3Ratio = 8, elderRatio = 8;
      
      const parentEmployees = employees * (parentPct / 100);
      const childcareUsers = parentEmployees * (uptakePct / 100);
      
      const babies = Math.ceil(childcareUsers * babyPct);
      const toddlers = Math.ceil(childcareUsers * toddlerPct);
      const over3 = Math.ceil(childcareUsers * over3Pct);
      const totalChildren = babies + toddlers + over3;
      
      const babyStaff = Math.ceil(babies / babyRatio);
      const toddlerStaff = Math.ceil(toddlers / toddlerRatio);
      const over3Staff = Math.ceil(over3 / over3Ratio);
      const totalChildcareStaff = babyStaff + toddlerStaff + over3Staff;
      
      const elderDepEmployees = employees * (elderDepPct / 100);
      const elderUsers = Math.ceil(elderDepEmployees * (elderUptakePct / 100));
      const elderStaff = Math.ceil(elderUsers / elderRatio);
      
      const totalCareStaff = totalChildcareStaff + elderStaff;
      const supportStaff = Math.ceil(totalCareStaff * 0.2);
      const totalStaff = totalCareStaff + supportStaff;

      const Slider = ({ label, value, onChange, min, max, unit = '%' }) => (
        React.createElement('div', { className: 'mb-4' },
          React.createElement('div', { className: 'flex justify-between text-sm mb-1' },
            React.createElement('span', { className: 'text-gray-600' }, label),
            React.createElement('span', { className: 'font-medium text-gray-900' }, value.toLocaleString() + unit)
          ),
          React.createElement('input', {
            type: 'range', min, max, value,
            onChange: e => onChange(Number(e.target.value)),
            className: 'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-indigo-600'
          })
        )
      );

      return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-slate-50 to-indigo-50 p-6' },
        React.createElement('div', { className: 'max-w-4xl mx-auto' },
          React.createElement('div', { className: 'mb-6' },
            React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, 'Porto Dome Staffing Calculator'),
            React.createElement('p', { className: 'text-gray-500' }, 'NHS Trust Pilot Estimation')
          ),
          React.createElement('div', { className: 'grid md:grid-cols-2 gap-6' },
            React.createElement('div', { className: 'bg-white rounded-xl shadow-sm p-6 border border-gray-100' },
              React.createElement('h2', { className: 'font-semibold text-gray-800 mb-4' }, 'Parameters'),
              React.createElement(Slider, { label: 'Total Employees', value: employees, onChange: setEmployees, min: 0, max: 30000, unit: '' }),
              React.createElement(Slider, { label: 'Employees with young children', value: parentPct, onChange: setParentPct, min: 5, max: 30 }),
              React.createElement(Slider, { label: 'Childcare uptake rate', value: uptakePct, onChange: setUptakePct, min: 10, max: 80 }),
              React.createElement(Slider, { label: 'Employees with elder dependents', value: elderDepPct, onChange: setElderDepPct, min: 5, max: 40 }),
              React.createElement(Slider, { label: 'Eldercare uptake rate', value: elderUptakePct, onChange: setElderUptakePct, min: 5, max: 50 }),
              React.createElement('div', { className: 'mt-4 p-3 bg-gray-50 rounded-lg text-xs text-gray-500' },
                React.createElement('strong', null, 'Ratios (England): '), 'Babies 1:3 | Toddlers 1:5 | Over 3s 1:8 | Elders ~1:8'
              )
            ),
            React.createElement('div', { className: 'space-y-4' },
              React.createElement('div', { className: 'bg-white rounded-xl shadow-sm p-6 border border-gray-100' },
                React.createElement('h2', { className: 'font-semibold text-gray-800 mb-4' }, 'Childcare Breakdown'),
                React.createElement('div', { className: 'grid grid-cols-3 gap-3 text-center text-sm' },
                  React.createElement('div', { className: 'bg-pink-50 rounded-lg p-3' },
                    React.createElement('div', { className: 'font-bold text-pink-700' }, babies),
                    React.createElement('div', { className: 'text-gray-500' }, 'Babies'),
                    React.createElement('div', { className: 'text-xs text-pink-600' }, babyStaff + ' staff')
                  ),
                  React.createElement('div', { className: 'bg-orange-50 rounded-lg p-3' },
                    React.createElement('div', { className: 'font-bold text-orange-700' }, toddlers),
                    React.createElement('div', { className: 'text-gray-500' }, 'Toddlers'),
                    React.createElement('div', { className: 'text-xs text-orange-600' }, toddlerStaff + ' staff')
                  ),
                  React.createElement('div', { className: 'bg-green-50 rounded-lg p-3' },
                    React.createElement('div', { className: 'font-bold text-green-700' }, over3),
                    React.createElement('div', { className: 'text-gray-500' }, 'Over 3s'),
                    React.createElement('div', { className: 'text-xs text-green-600' }, over3Staff + ' staff')
                  )
                ),
                React.createElement('div', { className: 'mt-3 pt-3 border-t flex justify-between' },
                  React.createElement('span', { className: 'text-gray-600' }, 'Total Children'),
                  React.createElement('span', { className: 'font-bold text-indigo-700' }, totalChildren)
                )
              ),
              React.createElement('div', { className: 'bg-white rounded-xl shadow-sm p-6 border border-gray-100' },
                React.createElement('h2', { className: 'font-semibold text-gray-800 mb-4' }, 'Eldercare'),
                React.createElement('div', { className: 'flex justify-between items-center' },
                  React.createElement('div', null,
                    React.createElement('div', { className: 'text-2xl font-bold text-purple-700' }, elderUsers),
                    React.createElement('div', { className: 'text-sm text-gray-500' }, 'Elder day service users')
                  ),
                  React.createElement('div', { className: 'text-right' },
                    React.createElement('div', { className: 'text-xl font-bold text-purple-600' }, elderStaff),
                    React.createElement('div', { className: 'text-sm text-gray-500' }, 'staff needed')
                  )
                )
              ),
              React.createElement('div', { className: 'bg-indigo-600 rounded-xl shadow-lg p-6 text-white' },
                React.createElement('h2', { className: 'font-semibold mb-4' }, 'Total Staffing Requirement'),
                React.createElement('div', { className: 'grid grid-cols-3 gap-4 text-center' },
                  React.createElement('div', null,
                    React.createElement('div', { className: 'text-3xl font-bold' }, totalChildcareStaff),
                    React.createElement('div', { className: 'text-indigo-200 text-sm' }, 'Childcare')
                  ),
                  React.createElement('div', null,
                    React.createElement('div', { className: 'text-3xl font-bold' }, elderStaff),
                    React.createElement('div', { className: 'text-indigo-200 text-sm' }, 'Eldercare')
                  ),
                  React.createElement('div', null,
                    React.createElement('div', { className: 'text-3xl font-bold' }, supportStaff),
                    React.createElement('div', { className: 'text-indigo-200 text-sm' }, 'Support*')
                  )
                ),
                React.createElement('div', { className: 'mt-4 pt-4 border-t border-indigo-500 text-center' },
                  React.createElement('div', { className: 'text-4xl font-bold' }, totalStaff),
                  React.createElement('div', { className: 'text-indigo-200' }, 'Total Care Personnel')
                ),
                React.createElement('div', { className: 'mt-3 text-xs text-indigo-300' }, '*Support includes management, admin, kitchen, facilities (~20%)')
              )
            )
          )
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(StaffingCalculator));
  </script>
</body>
</html>
